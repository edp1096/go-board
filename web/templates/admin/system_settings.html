<!-- web/templates/admin/system_settings.html -->
<div class="max-w-7xl mx-auto">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold">시스템 설정</h1>
        <a href="/admin" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-600 bg-white focus:outline-none">
            대시보드로 돌아가기
        </a>
    </div>

    <div class="bg-white shadow-md rounded-lg p-6 mb-6">
        <h2 class="text-lg font-medium border-b pb-3 mb-4">회원가입 승인 설정</h2>

        <form id="approvalSettingsForm">
            <div class="space-y-6">
                <div>
                    <label class="block text-sm font-medium mb-2">회원가입 승인 방식</label>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <input id="immediate" name="approval_mode" type="radio" value="immediate" class="h-4 w-4 text-blue-600 focus:ring-blue-500" {{if eq .approvalMode "immediate" }}checked{{end}}>
                            <label for="immediate" class="ml-3 block text-sm font-medium">
                                즉시 승인 (가입 후 바로 사용 가능)
                            </label>
                        </div>

                        <div class="flex items-center">
                            <input id="delayed" name="approval_mode" type="radio" value="delayed" class="h-4 w-4 text-blue-600 focus:ring-blue-500" {{if eq .approvalMode "delayed" }}checked{{end}}>
                            <label for="delayed" class="ml-3 block text-sm font-medium">
                                일정 기간 후 자동 승인
                            </label>
                        </div>

                        <div class="ml-7 mt-2" id="delayedOptions">
                            <div class="flex items-center">
                                <label for="approval_days" class="block text-sm font-medium mr-3">
                                    승인 대기 일수:
                                </label>
                                <input id="approval_days" name="approval_days" type="number" min="1" max="30" value="{{.approvalDays}}" class="shadow-sm focus:ring-blue-500 focus:border-blue-500 block w-20 sm:text-sm rounded-md">
                                <span class="ml-2 text-sm">일</span>
                            </div>
                            <p class="mt-1 text-xs">
                                가입 후 설정된 일수가 지나면 다음 로그인 시 자동으로 승인됩니다.
                            </p>
                        </div>

                        <div class="flex items-center">
                            <input id="manual" name="approval_mode" type="radio" value="manual" class="h-4 w-4 text-blue-600 focus:ring-blue-500" {{if eq .approvalMode "manual" }}checked{{end}}>
                            <label for="manual" class="ml-3 block text-sm font-medium">
                                관리자 수동 승인 (관리자가 승인해야 사용 가능)
                            </label>
                        </div>
                    </div>
                </div>

                <div class="pt-4 border-t">
                    <div id="error-message" class="text-red-500 text-sm mb-3 hidden"></div>
                    <div id="success-message" class="text-green-500 text-sm mb-3 hidden"></div>

                    <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                        설정 저장
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>